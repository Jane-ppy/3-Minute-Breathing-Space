<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三分鐘呼吸空間 - 反思問卷</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">
                    <h1>三分鐘呼吸空間</h1>
                </a>
                <ul>
                    <li><a href="project-origin.html">專題起源</a></li>
                    <li><a href="meditation-benefits.html">冥想好處</a></li>
                    <li><a href="meditation-records.html">冥想紀錄</a></li>
                    <li><a href="about-us.html">關於我們</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main">
        <section class="reflection-section">
            <h1>歡迎來到三分鐘呼吸空間</h1>
            <p class="subtitle">讓我們一起開始這段平靜的旅程</p>

            <form id="reflectionForm" class="reflection-form">
                <div class="pre-meditation">
                    <p class="section-title">在冥想前，請花些時間反思以下問題：</p>
                    
                    <div class="question-group">
                        <div class="question">
                            <h4>請查看您「平均每天」的手機使用時間</h4>
                            <div class="slider-container">
                                <input type="range" id="screen-time" class="time-slider" min="0" max="24" step="1" value="0">
                                <div class="slider-value">你目前選擇的平均每日使用時間是：<span id="time-value">0</span> 小時</div>
                            </div>
                        </div>

                        <div class="question">
                            <h4>這個數字比您預期的多還是少？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="screenTime" value="比預期多">
                                    <span>比預期多</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="screenTime" value="比預期少">
                                    <span>比預期少</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="screenTime" value="跟預期差不多">
                                    <span>跟預期差不多</span>
                                </label>
                            </div>
                        </div>

                        <div class="question">
                            <h4>日常休息時，您通常會做什麼？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="restActivity" value="滑手機">
                                    <span>滑手機</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="restActivity" value="小睡">
                                    <span>小睡</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="restActivity" value="看劇/聽音樂">
                                    <span>看劇/聽音樂</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="restActivity" value="散步/運動">
                                    <span>散步/運動</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="restActivity" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="restActivityOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="question">
                            <h4>您平常在街上或搭車時會怎麼打發時間？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="commute" value="看手機/聽音樂">
                                    <span>看手機/聽音樂</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="commute" value="發呆">
                                    <span>發呆</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="commute" value="觀察路人">
                                    <span>觀察路人</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="commute" value="想事情">
                                    <span>想事情</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="commute" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="commuteOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="question">
                            <h4>與親友聚會時，您會不自覺查看手機嗎？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="socialPhone" value="會，而且蠻頻繁的">
                                    <span>會，而且蠻頻繁的</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="socialPhone" value="偶爾會">
                                    <span>偶爾會</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="socialPhone" value="幾乎不會">
                                    <span>幾乎不會</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="socialPhone" value="完全不會">
                                    <span>完全不會</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="socialPhone" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="socialPhoneOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="meditation-audio">
                    <h3>三分鐘街頭冥想</h3>
                    <p class="audio-guide">請找一個安靜的地方，開始今天的街頭冥想練習</p>
                    <div class="audio-player">
                        <audio controls preload="auto">
                            <source src="assets/audio/三分鐘呼吸空間.mp3" type="audio/mpeg">
                            <source src="assets/audio/三分鐘呼吸空間.ogg" type="audio/ogg">
                            您的瀏覽器不支援音訊播放，請嘗試使用其他瀏覽器
                        </audio>
                    </div>
                </div>

                <div class="post-meditation">
                    <p class="section-title">冥想後，請花些分鐘回顧您的感受與觀察：</p>
                    
                    <div class="question-group">
                        <div class="question">
                            <h4>剛才的三分鐘體驗比您想像中如何？請選出三個形容詞：</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="checkbox" name="experience" value="平靜">
                                    <span>平靜</span>
                                </label>
                                <label class="option">
                                    <input type="checkbox" name="experience" value="雜亂">
                                    <span>雜亂</span>
                                </label>
                                <label class="option">
                                    <input type="checkbox" name="experience" value="安心">
                                    <span>安心</span>
                                </label>
                                <label class="option">
                                    <input type="checkbox" name="experience" value="分心">
                                    <span>分心</span>
                                </label>
                                <label class="option">
                                    <input type="checkbox" name="experience" value="專注">
                                    <span>專注</span>
                                </label>
                                <label class="option">
                                    <input type="checkbox" name="experience" value="焦慮">
                                    <span>焦慮</span>
                                </label>
                                <label class="option">
                                    <input type="checkbox" name="experience" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="experienceOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="question">
                            <h4>您的思緒有飄走嗎？如果有，是關於什麼？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="thoughts" value="工作/壓力">
                                    <span>工作/壓力</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="thoughts" value="家人/關係">
                                    <span>家人/關係</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="thoughts" value="健康/身體">
                                    <span>健康/身體</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="thoughts" value="今天要做的事">
                                    <span>今天要做的事</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="thoughts" value="沒有飄走">
                                    <span>沒有飄走</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="thoughts" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="thoughtsOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="question">
                            <h4>這三分鐘和您平常休息的方式相比，有什麼不同？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="comparison" value="更能覺察當下">
                                    <span>我更能覺察當下的身心狀態</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="comparison" value="我感覺這次更放鬆">
                                    <span>我感覺這次更放鬆</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="comparison" value="依賴手機">
                                    <span>平常的休息方式比較依賴手機或外部刺激</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="comparison" value="沒有差別">
                                    <span>沒有太大差別</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="comparison" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="comparisonOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="question">
                            <h4>您覺得自己能每天持續練習三分鐘正念嗎？有什麼阻礙？</h4>
                            <div class="options">
                                <label class="option">
                                    <input type="radio" name="continuation" value="沒時間">
                                    <span>沒時間</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="continuation" value="容易忘記">
                                    <span>容易忘記</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="continuation" value="環境太吵">
                                    <span>環境太吵</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="continuation" value="缺乏動力">
                                    <span>缺乏動力</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="continuation" value="可以！我會試試看">
                                    <span>可以！我會試試看</span>
                                </label>
                                <label class="option">
                                    <input type="radio" name="continuation" value="other">
                                    <span>其他</span>
                                    <div class="other-option">
                                        <input type="text" name="continuationOther" placeholder="請填寫">
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="submit" class="btn-primary">完成反思</button>
                </div>
            </form>
        </section>
    </main>

    <script>
        document.getElementById('reflectionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 收集表單數據
            const formData = new FormData(this);
            const screenTimeValue = document.getElementById('screen-time').value;
            
            // 創建 Google Forms 預填表單 URL
            const baseUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSdAJDPQ7jDlhGyb2UPDZkJS_E6v5ylTZ11Tt8YpHc1UGwL0yw/viewform';
            const params = new URLSearchParams();
            
            // 添加所有問題的答案
            params.append('entry.1477524551', screenTimeValue + " 小時");
            params.append('entry.1065046570', formData.get('screenTime'));
            params.append('entry.1166974658', formData.get('restActivity') === 'other' ? formData.get('restActivityOther') : formData.get('restActivity'));
            params.append('entry.839337160', formData.get('commute') === 'other' ? formData.get('commuteOther') : formData.get('commute'));
            params.append('entry.1846923513', formData.get('socialPhone') === 'other' ? formData.get('socialPhoneOther') : formData.get('socialPhone'));
            params.append('entry.1058478884', Array.from(document.querySelectorAll('input[name="experience"]:checked')).map(input => {
                return input.value === 'other' ? formData.get('experienceOther') : input.value;
            }).join(', '));
            params.append('entry.1167213270', formData.get('thoughts') === 'other' ? formData.get('thoughtsOther') : formData.get('thoughts'));
            params.append('entry.1102207642', formData.get('comparison') === 'other' ? formData.get('comparisonOther') : formData.get('comparison'));
            params.append('entry.1553026398', formData.get('continuation') === 'other' ? formData.get('continuationOther') : formData.get('continuation'));

            // 打開預填表單
            const formUrl = `${baseUrl}?${params.toString()}`;
            window.open(formUrl, '_blank');

            // 顯示成功訊息並跳轉
            setTimeout(() => {
                alert('請在新開啟的頁面中確認並提交您的回答！');
                window.location.href = 'thank-you.html';
            }, 1000);
        });

        // 滑輪值即時更新
        const timeSlider = document.getElementById('screen-time');
        const timeValue = document.getElementById('time-value');

        timeSlider.addEventListener('input', function() {
            timeValue.textContent = this.value;
        });
    </script>
</body>
</html> 